##########################################
# WARNING: This is an auto-generated file.
# DO NOT EDIT THIS FILE DIRECTLY
# ANY EDITS WILL BE LOST
##########################################

from dataclasses import dataclass, field
from typing import Any, ClassVar, Optional

from ._context import LoadContext, SaveContext


@dataclass
class ContainerResources:
    """Resource allocation for a containerized agent.
    Valid CPU and memory pairings depend on the target hosting provider.

    Attributes
    ----------
    cpu : str
        CPU allocation for the container (e.g., '0.5', '1', '2')
    memory : str
        Memory allocation for the container (e.g., '0.5Gi', '2Gi')
    """

    _shorthand_property: ClassVar[Optional[str]] = None

    cpu: str = field(default="")
    memory: str = field(default="")

    @staticmethod
    def load(data: Any, context: Optional[LoadContext] = None) -> "ContainerResources":
        """Load a ContainerResources instance.
        Args:
            data (Any): The data to load the instance from.
            context (Optional[LoadContext]): Optional context with pre/post processing callbacks.
        Returns:
            ContainerResources: The loaded ContainerResources instance.

        """

        if context is not None:
            data = context.process_input(data)

        if not isinstance(data, dict):
            raise ValueError(f"Invalid data for ContainerResources: {data}")

        # create new instance
        instance = ContainerResources()

        if data is not None and "cpu" in data:
            instance.cpu = data["cpu"]
        if data is not None and "memory" in data:
            instance.memory = data["memory"]
        if context is not None:
            instance = context.process_output(instance)
        return instance

    def save(self, context: Optional[SaveContext] = None) -> dict[str, Any]:
        """Save the ContainerResources instance to a dictionary.
        Args:
            context (Optional[SaveContext]): Optional context with pre/post processing callbacks.
        Returns:
            dict[str, Any]: The dictionary representation of this instance.

        """
        obj = self
        if context is not None:
            obj = context.process_object(obj)

        result: dict[str, Any] = {}

        if obj.cpu is not None:
            result["cpu"] = obj.cpu
        if obj.memory is not None:
            result["memory"] = obj.memory

        if context is not None:
            result = context.process_dict(result)
        return result

    def to_yaml(self, context: Optional[SaveContext] = None) -> str:
        """Convert the ContainerResources instance to a YAML string.
        Args:
            context (Optional[SaveContext]): Optional context with pre/post processing callbacks.
        Returns:
            str: The YAML string representation of this instance.

        """
        if context is None:
            context = SaveContext()
        return context.to_yaml(self.save(context))

    def to_json(self, context: Optional[SaveContext] = None, indent: int = 2) -> str:
        """Convert the ContainerResources instance to a JSON string.
        Args:
            context (Optional[SaveContext]): Optional context with pre/post processing callbacks.
            indent (int): Number of spaces for indentation. Defaults to 2.
        Returns:
            str: The JSON string representation of this instance.

        """
        if context is None:
            context = SaveContext()
        return context.to_json(self.save(context), indent)
