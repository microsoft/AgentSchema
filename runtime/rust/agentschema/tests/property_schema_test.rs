// Code generated by AgentSchema emitter; DO NOT EDIT.

use agentschema::*;

#[test]
fn test_property_schema_load_json() {
    let json_data = r####"
{
  "examples": [
    {
      "key": "value"
    }
  ],
  "strict": true,
  "properties": {
    "firstName": {
      "kind": "string",
      "sample": "Jane"
    },
    "lastName": {
      "kind": "string",
      "sample": "Doe"
    },
    "question": {
      "kind": "string",
      "sample": "What is the meaning of life?"
    }
  }
}
"####;
    let instance =
        PropertySchema::from_json(json_data).expect("Failed to load PropertySchema from JSON");
    assert_eq!(instance.strict, Some(true));
}

#[test]
fn test_property_schema_load_yaml() {
    let yaml_data = r####"
examples:
  - key: value
strict: true
properties:
  firstName:
    kind: string
    sample: Jane
  lastName:
    kind: string
    sample: Doe
  question:
    kind: string
    sample: What is the meaning of life?

"####;
    let instance =
        PropertySchema::from_yaml(yaml_data).expect("Failed to load PropertySchema from YAML");
    assert_eq!(instance.strict, Some(true));
}

#[test]
fn test_property_schema_roundtrip() {
    let json_data = r####"
{
  "examples": [
    {
      "key": "value"
    }
  ],
  "strict": true,
  "properties": {
    "firstName": {
      "kind": "string",
      "sample": "Jane"
    },
    "lastName": {
      "kind": "string",
      "sample": "Doe"
    },
    "question": {
      "kind": "string",
      "sample": "What is the meaning of life?"
    }
  }
}
"####;
    let instance = PropertySchema::from_json(json_data).expect("Failed to load PropertySchema");
    let json_out = instance
        .to_json()
        .expect("Failed to serialize PropertySchema to JSON");
    let reloaded =
        PropertySchema::from_json(&json_out).expect("Failed to reload PropertySchema from JSON");
    assert_eq!(reloaded.strict, Some(true));
}

#[test]
fn test_property_schema_to_json() {
    let json_data = r####"
{
  "examples": [
    {
      "key": "value"
    }
  ],
  "strict": true,
  "properties": {
    "firstName": {
      "kind": "string",
      "sample": "Jane"
    },
    "lastName": {
      "kind": "string",
      "sample": "Doe"
    },
    "question": {
      "kind": "string",
      "sample": "What is the meaning of life?"
    }
  }
}
"####;
    let instance = PropertySchema::from_json(json_data).expect("Failed to load PropertySchema");
    let json_out = instance
        .to_json()
        .expect("Failed to convert PropertySchema to JSON");
    // Verify the output is valid JSON
    let _: serde_json::Value =
        serde_json::from_str(&json_out).expect("Generated JSON is not valid");
}

#[test]
fn test_property_schema_to_yaml() {
    let json_data = r####"
{
  "examples": [
    {
      "key": "value"
    }
  ],
  "strict": true,
  "properties": {
    "firstName": {
      "kind": "string",
      "sample": "Jane"
    },
    "lastName": {
      "kind": "string",
      "sample": "Doe"
    },
    "question": {
      "kind": "string",
      "sample": "What is the meaning of life?"
    }
  }
}
"####;
    let instance = PropertySchema::from_json(json_data).expect("Failed to load PropertySchema");
    let yaml_out = instance
        .to_yaml()
        .expect("Failed to convert PropertySchema to YAML");
    // Verify the output is valid YAML by re-loading
    let _: serde_json::Value =
        serde_yaml::from_str(&yaml_out).expect("Generated YAML is not valid");
}
