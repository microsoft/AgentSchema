// Code generated by AgentSchema emitter; DO NOT EDIT.

use agentschema::*;

#[test]
fn test_file_search_tool_load_json() {
    let json_data = r####"
{
  "kind": "file_search",
  "connection": {
    "kind": "reference"
  },
  "vectorStoreIds": [
    "vectorStore1",
    "vectorStore2"
  ],
  "maximumResultCount": 10,
  "ranker": "auto",
  "scoreThreshold": 0.5,
  "filters": {
    "fileType": "pdf",
    "createdAfter": "2023-01-01"
  }
}
"####;
    let instance =
        FileSearchTool::from_json(json_data).expect("Failed to load FileSearchTool from JSON");
    assert_eq!(instance.kind, "file_search");
    assert_eq!(instance.maximum_result_count, Some(10));
    assert_eq!(instance.ranker.as_deref(), Some("auto"));
    assert_eq!(instance.score_threshold, Some(0.5));
}

#[test]
fn test_file_search_tool_load_yaml() {
    let yaml_data = r####"
kind: file_search
connection:
  kind: reference
vectorStoreIds:
  - vectorStore1
  - vectorStore2
maximumResultCount: 10
ranker: auto
scoreThreshold: 0.5
filters:
  fileType: pdf
  createdAfter: 2023-01-01

"####;
    let instance =
        FileSearchTool::from_yaml(yaml_data).expect("Failed to load FileSearchTool from YAML");
    assert_eq!(instance.kind, "file_search");
    assert_eq!(instance.maximum_result_count, Some(10));
    assert_eq!(instance.ranker.as_deref(), Some("auto"));
    assert_eq!(instance.score_threshold, Some(0.5));
}

#[test]
fn test_file_search_tool_roundtrip() {
    let json_data = r####"
{
  "kind": "file_search",
  "connection": {
    "kind": "reference"
  },
  "vectorStoreIds": [
    "vectorStore1",
    "vectorStore2"
  ],
  "maximumResultCount": 10,
  "ranker": "auto",
  "scoreThreshold": 0.5,
  "filters": {
    "fileType": "pdf",
    "createdAfter": "2023-01-01"
  }
}
"####;
    let instance = FileSearchTool::from_json(json_data).expect("Failed to load FileSearchTool");
    let json_out = instance
        .to_json()
        .expect("Failed to serialize FileSearchTool to JSON");
    let reloaded =
        FileSearchTool::from_json(&json_out).expect("Failed to reload FileSearchTool from JSON");
    assert_eq!(reloaded.kind, "file_search");
    assert_eq!(reloaded.maximum_result_count, Some(10));
    assert_eq!(reloaded.ranker.as_deref(), Some("auto"));
    assert_eq!(reloaded.score_threshold, Some(0.5));
}

#[test]
fn test_file_search_tool_to_json() {
    let json_data = r####"
{
  "kind": "file_search",
  "connection": {
    "kind": "reference"
  },
  "vectorStoreIds": [
    "vectorStore1",
    "vectorStore2"
  ],
  "maximumResultCount": 10,
  "ranker": "auto",
  "scoreThreshold": 0.5,
  "filters": {
    "fileType": "pdf",
    "createdAfter": "2023-01-01"
  }
}
"####;
    let instance = FileSearchTool::from_json(json_data).expect("Failed to load FileSearchTool");
    let json_out = instance
        .to_json()
        .expect("Failed to convert FileSearchTool to JSON");
    // Verify the output is valid JSON
    let _: serde_json::Value =
        serde_json::from_str(&json_out).expect("Generated JSON is not valid");
}

#[test]
fn test_file_search_tool_to_yaml() {
    let json_data = r####"
{
  "kind": "file_search",
  "connection": {
    "kind": "reference"
  },
  "vectorStoreIds": [
    "vectorStore1",
    "vectorStore2"
  ],
  "maximumResultCount": 10,
  "ranker": "auto",
  "scoreThreshold": 0.5,
  "filters": {
    "fileType": "pdf",
    "createdAfter": "2023-01-01"
  }
}
"####;
    let instance = FileSearchTool::from_json(json_data).expect("Failed to load FileSearchTool");
    let yaml_out = instance
        .to_yaml()
        .expect("Failed to convert FileSearchTool to YAML");
    // Verify the output is valid YAML by re-loading
    let _: serde_json::Value =
        serde_yaml::from_str(&yaml_out).expect("Generated YAML is not valid");
}
