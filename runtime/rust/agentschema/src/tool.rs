// Code generated by AgentSchema emitter; DO NOT EDIT.

#[allow(unused_imports)]
use crate::*;

/// Tool represents Represents a tool that can be used in prompts.

#[derive(Debug, Clone, Default, serde::Serialize, serde::Deserialize)]
pub struct Tool {
    #[serde(rename = "name", default)]
    pub name: String,
    #[serde(rename = "kind", default)]
    pub kind: String,
    #[serde(
        rename = "description",
        skip_serializing_if = "Option::is_none",
        default
    )]
    pub description: Option<String>,
    #[serde(rename = "bindings", default)]
    pub bindings: serde_json::Value,
}

impl Tool {
    /// Load from a JSON string.
    pub fn from_json(s: &str) -> Result<Self, String> {
        serde_json::from_str(s).map_err(|e| e.to_string())
    }

    /// Serialize to a JSON string.
    pub fn to_json(&self) -> Result<String, String> {
        serde_json::to_string(self).map_err(|e| e.to_string())
    }

    /// Load from a YAML string.
    pub fn from_yaml(s: &str) -> Result<Self, String> {
        serde_yaml::from_str(s).map_err(|e| e.to_string())
    }

    /// Serialize to a YAML string.
    pub fn to_yaml(&self) -> Result<String, String> {
        serde_yaml::to_string(self).map_err(|e| e.to_string())
    }

    /// Load from a JSON string, dispatching to the appropriate child type.
    /// Returns a `serde_json::Value` containing the deserialized child type.
    pub fn from_json_polymorphic(s: &str) -> Result<serde_json::Value, String> {
        let val: serde_json::Value = serde_json::from_str(s).map_err(|e| e.to_string())?;
        Self::load_polymorphic(val)
    }

    /// Load from a YAML string, dispatching to the appropriate child type.
    /// Returns a `serde_json::Value` containing the deserialized child type.
    pub fn from_yaml_polymorphic(s: &str) -> Result<serde_json::Value, String> {
        let val: serde_json::Value = serde_yaml::from_str(s).map_err(|e| e.to_string())?;
        Self::load_polymorphic(val)
    }

    /// Dispatch a `serde_json::Value` to the appropriate child type based on
    /// the `kind` discriminator field.
    pub fn load_polymorphic(val: serde_json::Value) -> Result<serde_json::Value, String> {
        if let Some(disc) = val.get("kind").and_then(|v| v.as_str()) {
            match disc {
                "function" => {
                    let typed = FunctionTool::from_json(
                        &serde_json::to_string(&val).map_err(|e| e.to_string())?,
                    )?;
                    serde_json::to_value(typed).map_err(|e| e.to_string())
                }
                "bing_search" => {
                    let typed = WebSearchTool::from_json(
                        &serde_json::to_string(&val).map_err(|e| e.to_string())?,
                    )?;
                    serde_json::to_value(typed).map_err(|e| e.to_string())
                }
                "file_search" => {
                    let typed = FileSearchTool::from_json(
                        &serde_json::to_string(&val).map_err(|e| e.to_string())?,
                    )?;
                    serde_json::to_value(typed).map_err(|e| e.to_string())
                }
                "mcp" => {
                    let typed = McpTool::from_json(
                        &serde_json::to_string(&val).map_err(|e| e.to_string())?,
                    )?;
                    serde_json::to_value(typed).map_err(|e| e.to_string())
                }
                "openapi" => {
                    let typed = OpenApiTool::from_json(
                        &serde_json::to_string(&val).map_err(|e| e.to_string())?,
                    )?;
                    serde_json::to_value(typed).map_err(|e| e.to_string())
                }
                "code_interpreter" => {
                    let typed = CodeInterpreterTool::from_json(
                        &serde_json::to_string(&val).map_err(|e| e.to_string())?,
                    )?;
                    serde_json::to_value(typed).map_err(|e| e.to_string())
                }
                _ => {
                    let typed = CustomTool::from_json(
                        &serde_json::to_string(&val).map_err(|e| e.to_string())?,
                    )?;
                    serde_json::to_value(typed).map_err(|e| e.to_string())
                }
            }
        } else {
            Ok(val)
        }
    }
}

/// FunctionTool represents Represents a local function tool.

#[derive(Debug, Clone, Default, serde::Serialize, serde::Deserialize)]
pub struct FunctionTool {
    #[serde(rename = "kind", default)]
    pub kind: String,
    #[serde(rename = "parameters", default)]
    pub parameters: PropertySchema,
    #[serde(rename = "strict", skip_serializing_if = "Option::is_none", default)]
    pub strict: Option<bool>,
}

impl FunctionTool {
    /// Load from a JSON string.
    pub fn from_json(s: &str) -> Result<Self, String> {
        serde_json::from_str(s).map_err(|e| e.to_string())
    }

    /// Serialize to a JSON string.
    pub fn to_json(&self) -> Result<String, String> {
        serde_json::to_string(self).map_err(|e| e.to_string())
    }

    /// Load from a YAML string.
    pub fn from_yaml(s: &str) -> Result<Self, String> {
        serde_yaml::from_str(s).map_err(|e| e.to_string())
    }

    /// Serialize to a YAML string.
    pub fn to_yaml(&self) -> Result<String, String> {
        serde_yaml::to_string(self).map_err(|e| e.to_string())
    }
}

/// CustomTool represents Represents a generic server tool that runs on a server
/// This tool kind is designed for operations that require server-side execution
/// It may include features such as authentication, data storage, and long-running processes
/// This tool kind is ideal for tasks that involve complex computations or access to secure resources
/// Server tools can be used to offload heavy processing from client applications

#[derive(Debug, Clone, Default, serde::Serialize, serde::Deserialize)]
pub struct CustomTool {
    #[serde(rename = "kind", default)]
    pub kind: String,
    #[serde(rename = "connection", default)]
    pub connection: serde_json::Value,
    #[serde(rename = "options", default)]
    pub options: serde_json::Value,
}

impl CustomTool {
    /// Load from a JSON string.
    pub fn from_json(s: &str) -> Result<Self, String> {
        serde_json::from_str(s).map_err(|e| e.to_string())
    }

    /// Serialize to a JSON string.
    pub fn to_json(&self) -> Result<String, String> {
        serde_json::to_string(self).map_err(|e| e.to_string())
    }

    /// Load from a YAML string.
    pub fn from_yaml(s: &str) -> Result<Self, String> {
        serde_yaml::from_str(s).map_err(|e| e.to_string())
    }

    /// Serialize to a YAML string.
    pub fn to_yaml(&self) -> Result<String, String> {
        serde_yaml::to_string(self).map_err(|e| e.to_string())
    }
}

/// WebSearchTool represents The Bing search tool.

#[derive(Debug, Clone, Default, serde::Serialize, serde::Deserialize)]
pub struct WebSearchTool {
    #[serde(rename = "kind", default)]
    pub kind: String,
    #[serde(rename = "connection", default)]
    pub connection: serde_json::Value,
    #[serde(rename = "options", default)]
    pub options: serde_json::Value,
}

impl WebSearchTool {
    /// Load from a JSON string.
    pub fn from_json(s: &str) -> Result<Self, String> {
        serde_json::from_str(s).map_err(|e| e.to_string())
    }

    /// Serialize to a JSON string.
    pub fn to_json(&self) -> Result<String, String> {
        serde_json::to_string(self).map_err(|e| e.to_string())
    }

    /// Load from a YAML string.
    pub fn from_yaml(s: &str) -> Result<Self, String> {
        serde_yaml::from_str(s).map_err(|e| e.to_string())
    }

    /// Serialize to a YAML string.
    pub fn to_yaml(&self) -> Result<String, String> {
        serde_yaml::to_string(self).map_err(|e| e.to_string())
    }
}

/// FileSearchTool represents A tool for searching files.
/// This tool allows an AI agent to search for files based on a query.

#[derive(Debug, Clone, Default, serde::Serialize, serde::Deserialize)]
pub struct FileSearchTool {
    #[serde(rename = "kind", default)]
    pub kind: String,
    #[serde(rename = "connection", default)]
    pub connection: serde_json::Value,
    #[serde(
        rename = "vectorStoreIds",
        skip_serializing_if = "Vec::is_empty",
        default
    )]
    pub vector_store_ids: Vec<String>,
    #[serde(
        rename = "maximumResultCount",
        skip_serializing_if = "Option::is_none",
        default
    )]
    pub maximum_result_count: Option<i32>,
    #[serde(rename = "ranker", skip_serializing_if = "Option::is_none", default)]
    pub ranker: Option<String>,
    #[serde(
        rename = "scoreThreshold",
        skip_serializing_if = "Option::is_none",
        default
    )]
    pub score_threshold: Option<f32>,
    #[serde(rename = "filters", default)]
    pub filters: serde_json::Value,
}

impl FileSearchTool {
    /// Load from a JSON string.
    pub fn from_json(s: &str) -> Result<Self, String> {
        serde_json::from_str(s).map_err(|e| e.to_string())
    }

    /// Serialize to a JSON string.
    pub fn to_json(&self) -> Result<String, String> {
        serde_json::to_string(self).map_err(|e| e.to_string())
    }

    /// Load from a YAML string.
    pub fn from_yaml(s: &str) -> Result<Self, String> {
        serde_yaml::from_str(s).map_err(|e| e.to_string())
    }

    /// Serialize to a YAML string.
    pub fn to_yaml(&self) -> Result<String, String> {
        serde_yaml::to_string(self).map_err(|e| e.to_string())
    }
}

/// McpTool represents The MCP Server tool.

#[derive(Debug, Clone, Default, serde::Serialize, serde::Deserialize)]
pub struct McpTool {
    #[serde(rename = "kind", default)]
    pub kind: String,
    #[serde(rename = "connection", default)]
    pub connection: serde_json::Value,
    #[serde(rename = "serverName", default)]
    pub server_name: String,
    #[serde(
        rename = "serverDescription",
        skip_serializing_if = "Option::is_none",
        default
    )]
    pub server_description: Option<String>,
    #[serde(rename = "approvalMode", default)]
    pub approval_mode: serde_json::Value,
    #[serde(
        rename = "allowedTools",
        skip_serializing_if = "Vec::is_empty",
        default
    )]
    pub allowed_tools: Vec<String>,
}

impl McpTool {
    /// Load from a JSON string.
    pub fn from_json(s: &str) -> Result<Self, String> {
        serde_json::from_str(s).map_err(|e| e.to_string())
    }

    /// Serialize to a JSON string.
    pub fn to_json(&self) -> Result<String, String> {
        serde_json::to_string(self).map_err(|e| e.to_string())
    }

    /// Load from a YAML string.
    pub fn from_yaml(s: &str) -> Result<Self, String> {
        serde_yaml::from_str(s).map_err(|e| e.to_string())
    }

    /// Serialize to a YAML string.
    pub fn to_yaml(&self) -> Result<String, String> {
        serde_yaml::to_string(self).map_err(|e| e.to_string())
    }
}

/// OpenApiTool represents a schema type
#[derive(Debug, Clone, Default, serde::Serialize, serde::Deserialize)]
pub struct OpenApiTool {
    #[serde(rename = "kind", default)]
    pub kind: String,
    #[serde(rename = "connection", default)]
    pub connection: serde_json::Value,
    #[serde(rename = "specification", default)]
    pub specification: String,
}

impl OpenApiTool {
    /// Load from a JSON string.
    pub fn from_json(s: &str) -> Result<Self, String> {
        serde_json::from_str(s).map_err(|e| e.to_string())
    }

    /// Serialize to a JSON string.
    pub fn to_json(&self) -> Result<String, String> {
        serde_json::to_string(self).map_err(|e| e.to_string())
    }

    /// Load from a YAML string.
    pub fn from_yaml(s: &str) -> Result<Self, String> {
        serde_yaml::from_str(s).map_err(|e| e.to_string())
    }

    /// Serialize to a YAML string.
    pub fn to_yaml(&self) -> Result<String, String> {
        serde_yaml::to_string(self).map_err(|e| e.to_string())
    }
}

/// CodeInterpreterTool represents A tool for interpreting and executing code.
/// This tool allows an AI agent to run code snippets and analyze data files.

#[derive(Debug, Clone, Default, serde::Serialize, serde::Deserialize)]
pub struct CodeInterpreterTool {
    #[serde(rename = "kind", default)]
    pub kind: String,
    #[serde(rename = "fileIds", skip_serializing_if = "Vec::is_empty", default)]
    pub file_ids: Vec<String>,
}

impl CodeInterpreterTool {
    /// Load from a JSON string.
    pub fn from_json(s: &str) -> Result<Self, String> {
        serde_json::from_str(s).map_err(|e| e.to_string())
    }

    /// Serialize to a JSON string.
    pub fn to_json(&self) -> Result<String, String> {
        serde_json::to_string(self).map_err(|e| e.to_string())
    }

    /// Load from a YAML string.
    pub fn from_yaml(s: &str) -> Result<Self, String> {
        serde_yaml::from_str(s).map_err(|e| e.to_string())
    }

    /// Serialize to a YAML string.
    pub fn to_yaml(&self) -> Result<String, String> {
        serde_yaml::to_string(self).map_err(|e| e.to_string())
    }
}
