// Copyright (c) Microsoft. All rights reserved.
// WARNING: This is an auto-generated file. DO NOT EDIT THIS FILE DIRECTLY.

import { FunctionTool } from "../src/index";

describe("FunctionTool", () => {
  describe("construction", () => {
    it("should create a new instance with defaults", () => {
      const instance = new FunctionTool();
      expect(instance).toBeDefined();
    });

    it("should create a new instance with partial initialization", () => {
      const instance = new FunctionTool({});
      expect(instance).toBeDefined();
    });
  });

  describe("JSON serialization", () => {
    it("should load from JSON - example 1", () => {
      const json = `{\n  "kind": "function",\n  "parameters": {\n    "properties": {\n      "firstName": {\n        "kind": "string",\n        "value": "Jane"\n      },\n      "lastName": {\n        "kind": "string",\n        "value": "Doe"\n      },\n      "question": {\n        "kind": "string",\n        "value": "What is the meaning of life?"\n      }\n    }\n  },\n  "strict": true\n}`;
      const instance = FunctionTool.fromJson(json);
      expect(instance).toBeDefined();

      expect(instance.kind).toEqual("function");

      expect(instance.strict).toEqual(true);
    });

    it("should round-trip JSON - example 1", () => {
      const json = `{\n  "kind": "function",\n  "parameters": {\n    "properties": {\n      "firstName": {\n        "kind": "string",\n        "value": "Jane"\n      },\n      "lastName": {\n        "kind": "string",\n        "value": "Doe"\n      },\n      "question": {\n        "kind": "string",\n        "value": "What is the meaning of life?"\n      }\n    }\n  },\n  "strict": true\n}`;
      const instance = FunctionTool.fromJson(json);
      const output = instance.toJson();
      const reloaded = FunctionTool.fromJson(output);

      expect(reloaded.kind).toEqual(instance.kind);

      expect(reloaded.strict).toEqual(instance.strict);
    });

    it("should load from JSON - example 2", () => {
      const json = `{\n  "kind": "function",\n  "parameters": {\n    "properties": [\n      {\n        "name": "firstName",\n        "kind": "string",\n        "value": "Jane"\n      },\n      {\n        "name": "lastName",\n        "kind": "string",\n        "value": "Doe"\n      },\n      {\n        "name": "question",\n        "kind": "string",\n        "value": "What is the meaning of life?"\n      }\n    ]\n  },\n  "strict": true\n}`;
      const instance = FunctionTool.fromJson(json);
      expect(instance).toBeDefined();

      expect(instance.kind).toEqual("function");

      expect(instance.strict).toEqual(true);
    });

    it("should round-trip JSON - example 2", () => {
      const json = `{\n  "kind": "function",\n  "parameters": {\n    "properties": [\n      {\n        "name": "firstName",\n        "kind": "string",\n        "value": "Jane"\n      },\n      {\n        "name": "lastName",\n        "kind": "string",\n        "value": "Doe"\n      },\n      {\n        "name": "question",\n        "kind": "string",\n        "value": "What is the meaning of life?"\n      }\n    ]\n  },\n  "strict": true\n}`;
      const instance = FunctionTool.fromJson(json);
      const output = instance.toJson();
      const reloaded = FunctionTool.fromJson(output);

      expect(reloaded.kind).toEqual(instance.kind);

      expect(reloaded.strict).toEqual(instance.strict);
    });
  });

  describe("YAML serialization", () => {
    it("should load from YAML - example 1", () => {
      const yaml = `kind: function\nparameters:\n  properties:\n    firstName:\n      kind: string\n      value: Jane\n    lastName:\n      kind: string\n      value: Doe\n    question:\n      kind: string\n      value: What is the meaning of life?\nstrict: true\n`;
      const instance = FunctionTool.fromYaml(yaml);
      expect(instance).toBeDefined();

      expect(instance.kind).toEqual("function");

      expect(instance.strict).toEqual(true);
    });

    it("should round-trip YAML - example 1", () => {
      const yaml = `kind: function\nparameters:\n  properties:\n    firstName:\n      kind: string\n      value: Jane\n    lastName:\n      kind: string\n      value: Doe\n    question:\n      kind: string\n      value: What is the meaning of life?\nstrict: true\n`;
      const instance = FunctionTool.fromYaml(yaml);
      const output = instance.toYaml();
      const reloaded = FunctionTool.fromYaml(output);

      expect(reloaded.kind).toEqual(instance.kind);

      expect(reloaded.strict).toEqual(instance.strict);
    });

    it("should load from YAML - example 2", () => {
      const yaml = `kind: function\nparameters:\n  properties:\n    - name: firstName\n      kind: string\n      value: Jane\n    - name: lastName\n      kind: string\n      value: Doe\n    - name: question\n      kind: string\n      value: What is the meaning of life?\nstrict: true\n`;
      const instance = FunctionTool.fromYaml(yaml);
      expect(instance).toBeDefined();

      expect(instance.kind).toEqual("function");

      expect(instance.strict).toEqual(true);
    });

    it("should round-trip YAML - example 2", () => {
      const yaml = `kind: function\nparameters:\n  properties:\n    - name: firstName\n      kind: string\n      value: Jane\n    - name: lastName\n      kind: string\n      value: Doe\n    - name: question\n      kind: string\n      value: What is the meaning of life?\nstrict: true\n`;
      const instance = FunctionTool.fromYaml(yaml);
      const output = instance.toYaml();
      const reloaded = FunctionTool.fromYaml(output);

      expect(reloaded.kind).toEqual(instance.kind);

      expect(reloaded.strict).toEqual(instance.strict);
    });
  });

  describe("load and save", () => {
    it("should load from dictionary", () => {
      const data: Record<string, unknown> = {};
      const instance = FunctionTool.load(data);
      expect(instance).toBeDefined();
    });

    it("should save to dictionary", () => {
      const instance = new FunctionTool();
      const data = instance.save();
      expect(data).toBeDefined();
      expect(typeof data).toBe("object");
    });
  });
});
