// Copyright (c) Microsoft. All rights reserved.
// WARNING: This is an auto-generated file. DO NOT EDIT THIS FILE DIRECTLY.

import { Tool } from "../src/index";

describe("Tool", () => {
  describe("construction", () => {
    it("should create a new instance with defaults", () => {
      const instance = new Tool();
      expect(instance).toBeDefined();
    });

    it("should create a new instance with partial initialization", () => {
      const instance = new Tool({});
      expect(instance).toBeDefined();
    });
  });

  describe("JSON serialization", () => {
    it("should load from JSON - example 1", () => {
      const json = `{\n  "name": "my-tool",\n  "kind": "function",\n  "description": "A description of the tool",\n  "bindings": {\n    "input": "value"\n  }\n}`;
      const instance = Tool.fromJson(json);
      expect(instance).toBeDefined();

      expect(instance.name).toEqual("my-tool");

      expect(instance.kind).toEqual("function");

      expect(instance.description).toEqual("A description of the tool");
    });

    it("should round-trip JSON - example 1", () => {
      const json = `{\n  "name": "my-tool",\n  "kind": "function",\n  "description": "A description of the tool",\n  "bindings": {\n    "input": "value"\n  }\n}`;
      const instance = Tool.fromJson(json);
      const output = instance.toJson();
      const reloaded = Tool.fromJson(output);

      expect(reloaded.name).toEqual(instance.name);

      expect(reloaded.kind).toEqual(instance.kind);

      expect(reloaded.description).toEqual(instance.description);
    });
  });

  describe("YAML serialization", () => {
    it("should load from YAML - example 1", () => {
      const yaml = `name: my-tool\nkind: function\ndescription: A description of the tool\nbindings:\n  input: value\n`;
      const instance = Tool.fromYaml(yaml);
      expect(instance).toBeDefined();

      expect(instance.name).toEqual("my-tool");

      expect(instance.kind).toEqual("function");

      expect(instance.description).toEqual("A description of the tool");
    });

    it("should round-trip YAML - example 1", () => {
      const yaml = `name: my-tool\nkind: function\ndescription: A description of the tool\nbindings:\n  input: value\n`;
      const instance = Tool.fromYaml(yaml);
      const output = instance.toYaml();
      const reloaded = Tool.fromYaml(output);

      expect(reloaded.name).toEqual(instance.name);

      expect(reloaded.kind).toEqual(instance.kind);

      expect(reloaded.description).toEqual(instance.description);
    });
  });
});
