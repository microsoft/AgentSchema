// Copyright (c) Microsoft. All rights reserved.
// WARNING: This is an auto-generated file. DO NOT EDIT THIS FILE DIRECTLY.

import { describe, it, expect } from "vitest";
import { ProtocolVersionRecord } from "../src/protocol-version-record";

describe("ProtocolVersionRecord", () => {
  describe("construction", () => {
    it("should create a new instance with defaults", () => {
      const instance = new ProtocolVersionRecord();
      expect(instance).toBeDefined();
    });

    it("should create a new instance with partial initialization", () => {
      const instance = new ProtocolVersionRecord({});
      expect(instance).toBeDefined();
    });
  });

  describe("JSON serialization", () => {
    it("should load from JSON - example 1", () => {
      const json = `{\n  "protocol": "responses",\n  "version": "v0.1.1"\n}`;
      const instance = ProtocolVersionRecord.fromJson(json);
      expect(instance).toBeDefined();

      expect(instance.protocol).toEqual("responses");

      expect(instance.version).toEqual("v0.1.1");
    });

    it("should round-trip JSON - example 1", () => {
      const json = `{\n  "protocol": "responses",\n  "version": "v0.1.1"\n}`;
      const instance = ProtocolVersionRecord.fromJson(json);
      const output = instance.toJson();
      const reloaded = ProtocolVersionRecord.fromJson(output);

      expect(reloaded.protocol).toEqual(instance.protocol);

      expect(reloaded.version).toEqual(instance.version);
    });
  });

  describe("YAML serialization", () => {
    it("should load from YAML - example 1", () => {
      const yaml = `protocol: responses\nversion: v0.1.1\n`;
      const instance = ProtocolVersionRecord.fromYaml(yaml);
      expect(instance).toBeDefined();

      expect(instance.protocol).toEqual("responses");

      expect(instance.version).toEqual("v0.1.1");
    });

    it("should round-trip YAML - example 1", () => {
      const yaml = `protocol: responses\nversion: v0.1.1\n`;
      const instance = ProtocolVersionRecord.fromYaml(yaml);
      const output = instance.toYaml();
      const reloaded = ProtocolVersionRecord.fromYaml(output);

      expect(reloaded.protocol).toEqual(instance.protocol);

      expect(reloaded.version).toEqual(instance.version);
    });
  });

  describe("load and save", () => {
    it("should load from dictionary", () => {
      const data: Record<string, unknown> = {};
      const instance = ProtocolVersionRecord.load(data);
      expect(instance).toBeDefined();
    });

    it("should save to dictionary", () => {
      const instance = new ProtocolVersionRecord();
      const data = instance.save();
      expect(data).toBeDefined();
      expect(typeof data).toBe("object");
    });
  });
});
