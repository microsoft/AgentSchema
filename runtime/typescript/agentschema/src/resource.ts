// Copyright (c) Microsoft. All rights reserved.
// WARNING: This is an auto-generated file. DO NOT EDIT THIS FILE DIRECTLY.

import { LoadContext, SaveContext } from "./context";

/**
 * Represents a resource required by the agent
 * Resources can include databases, APIs, or other external systems
 * that the agent needs to interact with to perform its tasks
 *
 */
export abstract class Resource {
  /**
   * The shorthand property name for this type, if any.
   */
  static readonly shorthandProperty: string | undefined = undefined;

  /**
   * Name of the resource
   */
  name: string = "";

  /**
   * The kind of resource (e.g., model, tool)
   */
  kind: string = "";

  /**
   * Initializes a new instance of Resource.
   */
  constructor(init?: Partial<Resource>) {
    this.name = init?.name ?? "";

    this.kind = init?.kind ?? "";
  }

  //#region Load Methods

  /**
   * Load a Resource instance from a dictionary.
   * @param data - The dictionary containing the data.
   * @param context - Optional context with pre/post processing callbacks.
   * @returns The loaded Resource instance.
   */
  static load(data: Record<string, unknown>, context?: LoadContext): Resource {
    if (context) {
      data = context.processInput(data);
    }

    // Load polymorphic Resource instance
    const instance = Resource.loadKind(data, context);

    if (data["name"] !== undefined && data["name"] !== null) {
      instance.name = String(data["name"]);
    }

    if (data["kind"] !== undefined && data["kind"] !== null) {
      instance.kind = String(data["kind"]);
    }

    if (context) {
      return context.processOutput(instance) as Resource;
    }
    return instance;
  }

  /**
   * Load polymorphic Resource based on discriminator.
   * @param data - The dictionary containing the data.
   * @param context - Optional context with pre/post processing callbacks.
   * @returns The loaded Resource instance.
   */
  private static loadKind(data: Record<string, unknown>, context?: LoadContext): Resource {
    const discriminatorValue = data["kind"];
    if (discriminatorValue !== undefined && discriminatorValue !== null) {
      const discriminator = String(discriminatorValue).toLowerCase();
      switch (discriminator) {
        case "model":
          return ModelResource.load(data, context);
        case "tool":
          return ToolResource.load(data, context);
        default:
          throw new Error(`Unknown Resource discriminator value: ${discriminator}`);
      }
    }

    throw new Error("Missing Resource discriminator property: 'kind'");
  }

  //#endregion

  //#region Save Methods

  /**
   * Save the Resource instance to a dictionary.
   * @param context - Optional context with pre/post processing callbacks.
   * @returns The dictionary representation of this instance.
   */
  save(context?: SaveContext): Record<string, unknown> {
    const obj = context ? (context.processObject(this) as Resource) : this;

    const result: Record<string, unknown> = {};

    if (obj.name !== undefined && obj.name !== null) {
      result["name"] = obj.name;
    }

    if (obj.kind !== undefined && obj.kind !== null) {
      result["kind"] = obj.kind;
    }

    if (context) {
      return context.processDict(result);
    }

    return result;
  }

  /**
   * Convert the Resource instance to a YAML string.
   * @param context - Optional context with pre/post processing callbacks.
   * @returns The YAML string representation of this instance.
   */
  toYaml(context?: SaveContext): string {
    context = context ?? new SaveContext();
    return context.toYaml(this.save(context));
  }

  /**
   * Convert the Resource instance to a JSON string.
   * @param context - Optional context with pre/post processing callbacks.
   * @param indent - Number of spaces for indentation. Defaults to 2.
   * @returns The JSON string representation of this instance.
   */
  toJson(context?: SaveContext, indent: number = 2): string {
    context = context ?? new SaveContext();
    return context.toJson(this.save(context), indent);
  }

  /**
   * Load a Resource instance from a JSON string.
   * @param json - The JSON string to parse.
   * @param context - Optional context with pre/post processing callbacks.
   * @returns The loaded Resource instance.
   */
  static fromJson(json: string, context?: LoadContext): Resource {
    const data = JSON.parse(json);

    return Resource.load(data as Record<string, unknown>, context);
  }

  /**
   * Load a Resource instance from a YAML string.
   * @param yaml - The YAML string to parse.
   * @param context - Optional context with pre/post processing callbacks.
   * @returns The loaded Resource instance.
   */
  static fromYaml(yaml: string, context?: LoadContext): Resource {
    const { parse } = require("yaml");
    const data = parse(yaml);

    return Resource.load(data as Record<string, unknown>, context);
  }

  //#endregion
}

/**
 * Represents a model resource required by the agent
 *
 */
export class ModelResource extends Resource {
  /**
   * The shorthand property name for this type, if any.
   */
  static readonly shorthandProperty: string | undefined = undefined;

  /**
   * The kind identifier for model resources
   */
  kind: string = "model";

  /**
   * The unique identifier of the model resource
   */
  id: string = "";

  /**
   * Initializes a new instance of ModelResource.
   */
  constructor(init?: Partial<ModelResource>) {
    super(init);

    this.kind = init?.kind ?? "model";

    this.id = init?.id ?? "";
  }

  //#region Load Methods

  /**
   * Load a ModelResource instance from a dictionary.
   * @param data - The dictionary containing the data.
   * @param context - Optional context with pre/post processing callbacks.
   * @returns The loaded ModelResource instance.
   */
  static load(data: Record<string, unknown>, context?: LoadContext): ModelResource {
    if (context) {
      data = context.processInput(data);
    }

    // Create new instance
    const instance = new ModelResource();

    if (data["kind"] !== undefined && data["kind"] !== null) {
      instance.kind = String(data["kind"]);
    }

    if (data["id"] !== undefined && data["id"] !== null) {
      instance.id = String(data["id"]);
    }

    if (context) {
      return context.processOutput(instance) as ModelResource;
    }
    return instance;
  }

  //#endregion

  //#region Save Methods

  /**
   * Save the ModelResource instance to a dictionary.
   * @param context - Optional context with pre/post processing callbacks.
   * @returns The dictionary representation of this instance.
   */
  save(context?: SaveContext): Record<string, unknown> {
    const obj = context ? (context.processObject(this) as ModelResource) : this;

    // Start with parent class properties
    const result = super.save(context);

    if (obj.kind !== undefined && obj.kind !== null) {
      result["kind"] = obj.kind;
    }

    if (obj.id !== undefined && obj.id !== null) {
      result["id"] = obj.id;
    }

    return result;
  }

  /**
   * Convert the ModelResource instance to a YAML string.
   * @param context - Optional context with pre/post processing callbacks.
   * @returns The YAML string representation of this instance.
   */
  toYaml(context?: SaveContext): string {
    context = context ?? new SaveContext();
    return context.toYaml(this.save(context));
  }

  /**
   * Convert the ModelResource instance to a JSON string.
   * @param context - Optional context with pre/post processing callbacks.
   * @param indent - Number of spaces for indentation. Defaults to 2.
   * @returns The JSON string representation of this instance.
   */
  toJson(context?: SaveContext, indent: number = 2): string {
    context = context ?? new SaveContext();
    return context.toJson(this.save(context), indent);
  }

  /**
   * Load a ModelResource instance from a JSON string.
   * @param json - The JSON string to parse.
   * @param context - Optional context with pre/post processing callbacks.
   * @returns The loaded ModelResource instance.
   */
  static fromJson(json: string, context?: LoadContext): ModelResource {
    const data = JSON.parse(json);

    return ModelResource.load(data as Record<string, unknown>, context);
  }

  /**
   * Load a ModelResource instance from a YAML string.
   * @param yaml - The YAML string to parse.
   * @param context - Optional context with pre/post processing callbacks.
   * @returns The loaded ModelResource instance.
   */
  static fromYaml(yaml: string, context?: LoadContext): ModelResource {
    const { parse } = require("yaml");
    const data = parse(yaml);

    return ModelResource.load(data as Record<string, unknown>, context);
  }

  //#endregion
}

/**
 * Represents a tool resource required by the agent
 *
 */
export class ToolResource extends Resource {
  /**
   * The shorthand property name for this type, if any.
   */
  static readonly shorthandProperty: string | undefined = undefined;

  /**
   * The kind identifier for tool resources
   */
  kind: string = "tool";

  /**
   * The unique identifier of the tool resource
   */
  id: string = "";

  /**
   * Configuration options for the tool resource
   */
  options: Record<string, unknown> = {};

  /**
   * Initializes a new instance of ToolResource.
   */
  constructor(init?: Partial<ToolResource>) {
    super(init);

    this.kind = init?.kind ?? "tool";

    this.id = init?.id ?? "";

    this.options = init?.options ?? {};
  }

  //#region Load Methods

  /**
   * Load a ToolResource instance from a dictionary.
   * @param data - The dictionary containing the data.
   * @param context - Optional context with pre/post processing callbacks.
   * @returns The loaded ToolResource instance.
   */
  static load(data: Record<string, unknown>, context?: LoadContext): ToolResource {
    if (context) {
      data = context.processInput(data);
    }

    // Create new instance
    const instance = new ToolResource();

    if (data["kind"] !== undefined && data["kind"] !== null) {
      instance.kind = String(data["kind"]);
    }

    if (data["id"] !== undefined && data["id"] !== null) {
      instance.id = String(data["id"]);
    }

    if (data["options"] !== undefined && data["options"] !== null) {
      instance.options = data["options"] as Record<string, unknown>;
    }

    if (context) {
      return context.processOutput(instance) as ToolResource;
    }
    return instance;
  }

  //#endregion

  //#region Save Methods

  /**
   * Save the ToolResource instance to a dictionary.
   * @param context - Optional context with pre/post processing callbacks.
   * @returns The dictionary representation of this instance.
   */
  save(context?: SaveContext): Record<string, unknown> {
    const obj = context ? (context.processObject(this) as ToolResource) : this;

    // Start with parent class properties
    const result = super.save(context);

    if (obj.kind !== undefined && obj.kind !== null) {
      result["kind"] = obj.kind;
    }

    if (obj.id !== undefined && obj.id !== null) {
      result["id"] = obj.id;
    }

    if (obj.options !== undefined && obj.options !== null) {
      result["options"] = obj.options;
    }

    return result;
  }

  /**
   * Convert the ToolResource instance to a YAML string.
   * @param context - Optional context with pre/post processing callbacks.
   * @returns The YAML string representation of this instance.
   */
  toYaml(context?: SaveContext): string {
    context = context ?? new SaveContext();
    return context.toYaml(this.save(context));
  }

  /**
   * Convert the ToolResource instance to a JSON string.
   * @param context - Optional context with pre/post processing callbacks.
   * @param indent - Number of spaces for indentation. Defaults to 2.
   * @returns The JSON string representation of this instance.
   */
  toJson(context?: SaveContext, indent: number = 2): string {
    context = context ?? new SaveContext();
    return context.toJson(this.save(context), indent);
  }

  /**
   * Load a ToolResource instance from a JSON string.
   * @param json - The JSON string to parse.
   * @param context - Optional context with pre/post processing callbacks.
   * @returns The loaded ToolResource instance.
   */
  static fromJson(json: string, context?: LoadContext): ToolResource {
    const data = JSON.parse(json);

    return ToolResource.load(data as Record<string, unknown>, context);
  }

  /**
   * Load a ToolResource instance from a YAML string.
   * @param yaml - The YAML string to parse.
   * @param context - Optional context with pre/post processing callbacks.
   * @returns The loaded ToolResource instance.
   */
  static fromYaml(yaml: string, context?: LoadContext): ToolResource {
    const { parse } = require("yaml");
    const data = parse(yaml);

    return ToolResource.load(data as Record<string, unknown>, context);
  }

  //#endregion
}
