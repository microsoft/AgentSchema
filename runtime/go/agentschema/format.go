// Code generated by AgentSchema emitter; DO NOT EDIT.

package agentschema

import (
	"encoding/json"

	"gopkg.in/yaml.v3"
)

// Format represents Template format definition

type Format struct {
	Kind    string                 `json:"kind" yaml:"kind"`
	Strict  *bool                  `json:"strict,omitempty" yaml:"strict,omitempty"`
	Options map[string]interface{} `json:"options,omitempty" yaml:"options,omitempty"`
}

// LoadFormat creates a Format from a map[string]interface{}
func LoadFormat(data interface{}, ctx *LoadContext) (Format, error) {
	result := Format{}

	// Handle alternate scalar representations
	switch v := data.(type) {
	case string:
		// Shorthand: string -> Format
		expansion := map[string]interface{}{"kind": v}
		return LoadFormat(expansion, ctx)
	}
	// Load from map
	if m, ok := data.(map[string]interface{}); ok {
		if val, ok := m["kind"]; ok && val != nil {
			result.Kind = val.(string)
		}
		if val, ok := m["strict"]; ok && val != nil {
			v := val.(bool)
			result.Strict = &v
		}
		if val, ok := m["options"]; ok && val != nil {
			if m, ok := val.(map[string]interface{}); ok {
				result.Options = m
			}
		}
	}

	return result, nil
}

// Save serializes Format to map[string]interface{}
func (obj *Format) Save(ctx *SaveContext) map[string]interface{} {
	result := make(map[string]interface{})
	result["kind"] = obj.Kind
	if obj.Strict != nil {
		result["strict"] = *obj.Strict
	}
	if obj.Options != nil {
		result["options"] = obj.Options
	}

	return result
}

// ToJSON serializes Format to JSON string
func (obj *Format) ToJSON() (string, error) {
	ctx := NewSaveContext()
	data := obj.Save(ctx)
	bytes, err := json.Marshal(data)
	if err != nil {
		return "", err
	}
	return string(bytes), nil
}

// ToYAML serializes Format to YAML string
func (obj *Format) ToYAML() (string, error) {
	ctx := NewSaveContext()
	data := obj.Save(ctx)
	bytes, err := yaml.Marshal(data)
	if err != nil {
		return "", err
	}
	return string(bytes), nil
}

// FromJSON creates Format from JSON string
func FormatFromJSON(jsonStr string) (Format, error) {
	var data map[string]interface{}
	if err := json.Unmarshal([]byte(jsonStr), &data); err != nil {
		return Format{}, err
	}
	ctx := NewLoadContext()
	return LoadFormat(data, ctx)
}

// FromYAML creates Format from YAML string
func FormatFromYAML(yamlStr string) (Format, error) {
	var data map[string]interface{}
	if err := yaml.Unmarshal([]byte(yamlStr), &data); err != nil {
		return Format{}, err
	}
	ctx := NewLoadContext()
	return LoadFormat(data, ctx)
}
