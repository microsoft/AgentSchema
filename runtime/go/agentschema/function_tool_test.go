// Code generated by AgentSchema emitter; DO NOT EDIT.

package agentschema_test

import (
	"encoding/json"
	"testing"

	"gopkg.in/yaml.v3"

	"github.com/microsoft/agentschema-go/agentschema"
)

// TestFunctionToolLoadJSON tests loading FunctionTool from JSON
func TestFunctionToolLoadJSON(t *testing.T) {
	jsonData := `
{
  "kind": "function",
  "parameters": {
    "properties": {
      "firstName": {
        "kind": "string",
        "value": "Jane"
      },
      "lastName": {
        "kind": "string",
        "value": "Doe"
      },
      "question": {
        "kind": "string",
        "value": "What is the meaning of life?"
      }
    }
  },
  "strict": true
}
`
	var data map[string]interface{}
	if err := json.Unmarshal([]byte(jsonData), &data); err != nil {
		t.Fatalf("Failed to parse JSON: %v", err)
	}

	ctx := agentschema.NewLoadContext()
	instance, err := agentschema.LoadFunctionTool(data, ctx)
	if err != nil {
		t.Fatalf("Failed to load FunctionTool: %v", err)
	}
	if instance.Kind != "function" {
		t.Errorf(`Expected Kind to be "function", got %v`, instance.Kind)
	}
	if instance.Strict != true {
		t.Errorf(`Expected Strict to be true, got %v`, instance.Strict)
	}
}

// TestFunctionToolLoadYAML tests loading FunctionTool from YAML
func TestFunctionToolLoadYAML(t *testing.T) {
	yamlData := `
kind: function
parameters:
  properties:
    firstName:
      kind: string
      value: Jane
    lastName:
      kind: string
      value: Doe
    question:
      kind: string
      value: What is the meaning of life?
strict: true

`
	var data map[string]interface{}
	if err := yaml.Unmarshal([]byte(yamlData), &data); err != nil {
		t.Fatalf("Failed to parse YAML: %v", err)
	}

	ctx := agentschema.NewLoadContext()
	instance, err := agentschema.LoadFunctionTool(data, ctx)
	if err != nil {
		t.Fatalf("Failed to load FunctionTool: %v", err)
	}
	if instance.Kind != "function" {
		t.Errorf(`Expected Kind to be "function", got %v`, instance.Kind)
	}
	if instance.Strict != true {
		t.Errorf(`Expected Strict to be true, got %v`, instance.Strict)
	}
}

// TestFunctionToolRoundtrip tests load -> save -> load produces equivalent data
func TestFunctionToolRoundtrip(t *testing.T) {
	jsonData := `
{
  "kind": "function",
  "parameters": {
    "properties": {
      "firstName": {
        "kind": "string",
        "value": "Jane"
      },
      "lastName": {
        "kind": "string",
        "value": "Doe"
      },
      "question": {
        "kind": "string",
        "value": "What is the meaning of life?"
      }
    }
  },
  "strict": true
}
`
	var data map[string]interface{}
	if err := json.Unmarshal([]byte(jsonData), &data); err != nil {
		t.Fatalf("Failed to parse JSON: %v", err)
	}

	loadCtx := agentschema.NewLoadContext()
	instance, err := agentschema.LoadFunctionTool(data, loadCtx)
	if err != nil {
		t.Fatalf("Failed to load FunctionTool: %v", err)
	}

	saveCtx := agentschema.NewSaveContext()
	savedData := instance.Save(saveCtx)

	reloaded, err := agentschema.LoadFunctionTool(savedData, loadCtx)
	if err != nil {
		t.Fatalf("Failed to reload FunctionTool: %v", err)
	}
	if reloaded.Kind != "function" {
		t.Errorf(`Expected Kind to be "function", got %v`, reloaded.Kind)
	}
	if reloaded.Strict != true {
		t.Errorf(`Expected Strict to be true, got %v`, reloaded.Strict)
	}
}

// TestFunctionToolToJSON tests that ToJSON produces valid JSON
func TestFunctionToolToJSON(t *testing.T) {
	jsonData := `
{
  "kind": "function",
  "parameters": {
    "properties": {
      "firstName": {
        "kind": "string",
        "value": "Jane"
      },
      "lastName": {
        "kind": "string",
        "value": "Doe"
      },
      "question": {
        "kind": "string",
        "value": "What is the meaning of life?"
      }
    }
  },
  "strict": true
}
`
	var data map[string]interface{}
	if err := json.Unmarshal([]byte(jsonData), &data); err != nil {
		t.Fatalf("Failed to parse JSON: %v", err)
	}

	ctx := agentschema.NewLoadContext()
	instance, err := agentschema.LoadFunctionTool(data, ctx)
	if err != nil {
		t.Fatalf("Failed to load FunctionTool: %v", err)
	}

	jsonOutput, err := instance.ToJSON()
	if err != nil {
		t.Fatalf("Failed to convert to JSON: %v", err)
	}

	var parsed map[string]interface{}
	if err := json.Unmarshal([]byte(jsonOutput), &parsed); err != nil {
		t.Fatalf("Failed to parse generated JSON: %v", err)
	}
}

// TestFunctionToolToYAML tests that ToYAML produces valid YAML
func TestFunctionToolToYAML(t *testing.T) {
	jsonData := `
{
  "kind": "function",
  "parameters": {
    "properties": {
      "firstName": {
        "kind": "string",
        "value": "Jane"
      },
      "lastName": {
        "kind": "string",
        "value": "Doe"
      },
      "question": {
        "kind": "string",
        "value": "What is the meaning of life?"
      }
    }
  },
  "strict": true
}
`
	var data map[string]interface{}
	if err := json.Unmarshal([]byte(jsonData), &data); err != nil {
		t.Fatalf("Failed to parse JSON: %v", err)
	}

	ctx := agentschema.NewLoadContext()
	instance, err := agentschema.LoadFunctionTool(data, ctx)
	if err != nil {
		t.Fatalf("Failed to load FunctionTool: %v", err)
	}

	yamlOutput, err := instance.ToYAML()
	if err != nil {
		t.Fatalf("Failed to convert to YAML: %v", err)
	}

	var parsed map[string]interface{}
	if err := yaml.Unmarshal([]byte(yamlOutput), &parsed); err != nil {
		t.Fatalf("Failed to parse generated YAML: %v", err)
	}
}

// TestFunctionToolLoadJSON1 tests loading FunctionTool from JSON
func TestFunctionToolLoadJSON1(t *testing.T) {
	jsonData := `
{
  "kind": "function",
  "parameters": {
    "properties": [
      {
        "name": "firstName",
        "kind": "string",
        "value": "Jane"
      },
      {
        "name": "lastName",
        "kind": "string",
        "value": "Doe"
      },
      {
        "name": "question",
        "kind": "string",
        "value": "What is the meaning of life?"
      }
    ]
  },
  "strict": true
}
`
	var data map[string]interface{}
	if err := json.Unmarshal([]byte(jsonData), &data); err != nil {
		t.Fatalf("Failed to parse JSON: %v", err)
	}

	ctx := agentschema.NewLoadContext()
	instance, err := agentschema.LoadFunctionTool(data, ctx)
	if err != nil {
		t.Fatalf("Failed to load FunctionTool: %v", err)
	}
	if instance.Kind != "function" {
		t.Errorf(`Expected Kind to be "function", got %v`, instance.Kind)
	}
	if instance.Strict != true {
		t.Errorf(`Expected Strict to be true, got %v`, instance.Strict)
	}
}

// TestFunctionToolLoadYAML1 tests loading FunctionTool from YAML
func TestFunctionToolLoadYAML1(t *testing.T) {
	yamlData := `
kind: function
parameters:
  properties:
    - name: firstName
      kind: string
      value: Jane
    - name: lastName
      kind: string
      value: Doe
    - name: question
      kind: string
      value: What is the meaning of life?
strict: true

`
	var data map[string]interface{}
	if err := yaml.Unmarshal([]byte(yamlData), &data); err != nil {
		t.Fatalf("Failed to parse YAML: %v", err)
	}

	ctx := agentschema.NewLoadContext()
	instance, err := agentschema.LoadFunctionTool(data, ctx)
	if err != nil {
		t.Fatalf("Failed to load FunctionTool: %v", err)
	}
	if instance.Kind != "function" {
		t.Errorf(`Expected Kind to be "function", got %v`, instance.Kind)
	}
	if instance.Strict != true {
		t.Errorf(`Expected Strict to be true, got %v`, instance.Strict)
	}
}

// TestFunctionToolRoundtrip1 tests load -> save -> load produces equivalent data
func TestFunctionToolRoundtrip1(t *testing.T) {
	jsonData := `
{
  "kind": "function",
  "parameters": {
    "properties": [
      {
        "name": "firstName",
        "kind": "string",
        "value": "Jane"
      },
      {
        "name": "lastName",
        "kind": "string",
        "value": "Doe"
      },
      {
        "name": "question",
        "kind": "string",
        "value": "What is the meaning of life?"
      }
    ]
  },
  "strict": true
}
`
	var data map[string]interface{}
	if err := json.Unmarshal([]byte(jsonData), &data); err != nil {
		t.Fatalf("Failed to parse JSON: %v", err)
	}

	loadCtx := agentschema.NewLoadContext()
	instance, err := agentschema.LoadFunctionTool(data, loadCtx)
	if err != nil {
		t.Fatalf("Failed to load FunctionTool: %v", err)
	}

	saveCtx := agentschema.NewSaveContext()
	savedData := instance.Save(saveCtx)

	reloaded, err := agentschema.LoadFunctionTool(savedData, loadCtx)
	if err != nil {
		t.Fatalf("Failed to reload FunctionTool: %v", err)
	}
	if reloaded.Kind != "function" {
		t.Errorf(`Expected Kind to be "function", got %v`, reloaded.Kind)
	}
	if reloaded.Strict != true {
		t.Errorf(`Expected Strict to be true, got %v`, reloaded.Strict)
	}
}

// TestFunctionToolToJSON1 tests that ToJSON produces valid JSON
func TestFunctionToolToJSON1(t *testing.T) {
	jsonData := `
{
  "kind": "function",
  "parameters": {
    "properties": [
      {
        "name": "firstName",
        "kind": "string",
        "value": "Jane"
      },
      {
        "name": "lastName",
        "kind": "string",
        "value": "Doe"
      },
      {
        "name": "question",
        "kind": "string",
        "value": "What is the meaning of life?"
      }
    ]
  },
  "strict": true
}
`
	var data map[string]interface{}
	if err := json.Unmarshal([]byte(jsonData), &data); err != nil {
		t.Fatalf("Failed to parse JSON: %v", err)
	}

	ctx := agentschema.NewLoadContext()
	instance, err := agentschema.LoadFunctionTool(data, ctx)
	if err != nil {
		t.Fatalf("Failed to load FunctionTool: %v", err)
	}

	jsonOutput, err := instance.ToJSON()
	if err != nil {
		t.Fatalf("Failed to convert to JSON: %v", err)
	}

	var parsed map[string]interface{}
	if err := json.Unmarshal([]byte(jsonOutput), &parsed); err != nil {
		t.Fatalf("Failed to parse generated JSON: %v", err)
	}
}

// TestFunctionToolToYAML1 tests that ToYAML produces valid YAML
func TestFunctionToolToYAML1(t *testing.T) {
	jsonData := `
{
  "kind": "function",
  "parameters": {
    "properties": [
      {
        "name": "firstName",
        "kind": "string",
        "value": "Jane"
      },
      {
        "name": "lastName",
        "kind": "string",
        "value": "Doe"
      },
      {
        "name": "question",
        "kind": "string",
        "value": "What is the meaning of life?"
      }
    ]
  },
  "strict": true
}
`
	var data map[string]interface{}
	if err := json.Unmarshal([]byte(jsonData), &data); err != nil {
		t.Fatalf("Failed to parse JSON: %v", err)
	}

	ctx := agentschema.NewLoadContext()
	instance, err := agentschema.LoadFunctionTool(data, ctx)
	if err != nil {
		t.Fatalf("Failed to load FunctionTool: %v", err)
	}

	yamlOutput, err := instance.ToYAML()
	if err != nil {
		t.Fatalf("Failed to convert to YAML: %v", err)
	}

	var parsed map[string]interface{}
	if err := yaml.Unmarshal([]byte(yamlOutput), &parsed); err != nil {
		t.Fatalf("Failed to parse generated YAML: %v", err)
	}
}
