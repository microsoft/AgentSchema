---
title: Runtimes
description: Official runtime libraries for working with AgentSchema in your preferred programming language.
---

import { Tabs, TabItem, Card, CardGrid } from '@astrojs/starlight/components';

AgentSchema provides official runtime libraries for multiple programming languages, making it easy to load, create, and manipulate agent definitions programmatically.

## Installation

<Tabs syncKey="language">
  <TabItem label="Python" icon="seti:python">
    ```bash
    pip install agentschema
    ```
    
    Or using `uv`:
    ```bash
    uv add agentschema
    ```
  </TabItem>
  <TabItem label="TypeScript" icon="seti:typescript">
    ```bash
    npm install agentschema
    ```
    
    Or using other package managers:
    ```bash
    yarn add agentschema
    pnpm add agentschema
    ```
  </TabItem>
  <TabItem label=".NET" icon="seti:c-sharp">
    ```bash
    dotnet add package AgentSchema
    ```
    
    Or via NuGet Package Manager:
    ```powershell
    Install-Package AgentSchema
    ```
  </TabItem>
  <TabItem label="Go" icon="seti:go">
    ```bash
    go get github.com/microsoft/agentschema-go/agentschema
    ```
  </TabItem>
  <TabItem label="Rust" icon="seti:rust">
    ```toml
    [dependencies]
    agentschema = "1.0.0-beta.7"
    ```
  </TabItem>
</Tabs>

## Loading from YAML

Parse a YAML string into an agent definition:

<Tabs syncKey="language">
  <TabItem label="Python" icon="seti:python">
    ```python
    from agentschema import AgentDefinition

    yaml_content = """
    name: my-agent
    model: gpt-4o
    instructions: You are a helpful assistant.
    """

    agent = AgentDefinition.from_yaml(yaml_content)
    print(agent.name)  # "my-agent"
    ```
  </TabItem>
  <TabItem label="TypeScript" icon="seti:typescript">
    ```typescript
    import { AgentDefinition } from 'agentschema';

    const yamlContent = `
    name: my-agent
    model: gpt-4o
    instructions: You are a helpful assistant.
    `;

    const agent = AgentDefinition.fromYaml(yamlContent);
    console.log(agent.name);  // "my-agent"
    ```
  </TabItem>
  <TabItem label=".NET" icon="seti:c-sharp">
    ```csharp
    using AgentSchema;

    var yamlContent = @"
    name: my-agent
    model: gpt-4o
    instructions: You are a helpful assistant.
    ";

    var agent = AgentDefinition.FromYaml(yamlContent);
    Console.WriteLine(agent.Name);  // "my-agent"
    ```
  </TabItem>
  <TabItem label="Go" icon="seti:go">
    ```go
    package main

    import (
        "fmt"
        "github.com/microsoft/agentschema-go/agentschema"
    )

    func main() {
        yamlContent := `
    name: my-agent
    kind: prompt
    model: gpt-4o
    instructions: You are a helpful assistant.
    `
        agent, _ := agentschema.PromptAgentFromYAML(yamlContent)
        fmt.Println(agent.Name)  // "my-agent"
    }
    ```
  </TabItem>
  <TabItem label="Rust" icon="seti:rust">
    ```rust
    use agentschema::AgentDefinition;

    fn main() -> Result<(), Box<dyn std::error::Error>> {
        let yaml_content = r#"
    name: my-agent
    kind: prompt
    model: gpt-4o
    instructions: You are a helpful assistant.
    "#;

        let agent = AgentDefinition::from_yaml(yaml_content)?;
        println!("{}", agent.name);  // "my-agent"
        Ok(())
    }
    ```
  </TabItem>
</Tabs>

## Loading from Files

Load agent definitions directly from files:

<Tabs syncKey="language">
  <TabItem label="Python" icon="seti:python">
    ```python
    from agentschema import AgentDefinition

    # Load from YAML file
    agent = AgentDefinition.from_yaml_file("agent.yaml")

    # Load from JSON file
    agent = AgentDefinition.from_json_file("agent.json")
    ```
  </TabItem>
  <TabItem label="TypeScript" icon="seti:typescript">
    ```typescript
    import { AgentDefinition } from 'agentschema';
    import { readFileSync } from 'fs';

    // Load from YAML file
    const yaml = readFileSync('agent.yaml', 'utf-8');
    const agent = AgentDefinition.fromYaml(yaml);

    // Load from JSON file
    const json = readFileSync('agent.json', 'utf-8');
    const agentFromJson = AgentDefinition.fromJson(json);
    ```
  </TabItem>
  <TabItem label=".NET" icon="seti:c-sharp">
    ```csharp
    using AgentSchema;

    // Load from YAML file
    var yaml = File.ReadAllText("agent.yaml");
    var agent = AgentDefinition.FromYaml(yaml);

    // Load from JSON file
    var json = File.ReadAllText("agent.json");
    var agentFromJson = AgentDefinition.FromJson(json);
    ```
  </TabItem>
  <TabItem label="Go" icon="seti:go">
    ```go
    package main

    import (
        "os"
        "github.com/microsoft/agentschema-go/agentschema"
    )

    func main() {
        // Load from YAML file
        yamlBytes, _ := os.ReadFile("agent.yaml")
        agent, _ := agentschema.PromptAgentFromYAML(string(yamlBytes))

        // Load from JSON file
        jsonBytes, _ := os.ReadFile("agent.json")
        agentFromJson, _ := agentschema.PromptAgentFromJSON(string(jsonBytes))
    }
    ```
  </TabItem>
  <TabItem label="Rust" icon="seti:rust">
    ```rust
    use agentschema::AgentDefinition;
    use std::fs;

    fn main() -> Result<(), Box<dyn std::error::Error>> {
        // Load from YAML file
        let yaml = fs::read_to_string("agent.yaml")?;
        let agent = AgentDefinition::from_yaml(&yaml)?;

        // Load from JSON file
        let json = fs::read_to_string("agent.json")?;
        let agent_from_json = AgentDefinition::from_json(&json)?;

        Ok(())
    }
    ```
  </TabItem>
</Tabs>

## Programmatic Construction

Create agent definitions using strongly-typed classes:

<Tabs syncKey="language">
  <TabItem label="Python" icon="seti:python">
    ```python
    from agentschema import AgentDefinition, FunctionTool, Property

    agent = AgentDefinition(
        name="weather-agent",
        description="Helps users check the weather",
        model="gpt-4o",
        instructions="You help users check the weather.",
        tools={
            "get_weather": FunctionTool(
                name="get_weather",
                description="Get current weather for a location",
                parameters={
                    "location": Property(
                        kind="string",
                        description="City name",
                        required=True,
                    ),
                },
            ),
        },
    )
    ```
  </TabItem>
  <TabItem label="TypeScript" icon="seti:typescript">
    ```typescript
    import { AgentDefinition, FunctionTool, Property } from 'agentschema';

    const agent = new AgentDefinition({
      name: 'weather-agent',
      description: 'Helps users check the weather',
      model: 'gpt-4o',
      instructions: 'You help users check the weather.',
      tools: {
        get_weather: new FunctionTool({
          name: 'get_weather',
          description: 'Get current weather for a location',
          parameters: {
            location: new Property({
              kind: 'string',
              description: 'City name',
              required: true,
            }),
          },
        }),
      },
    });
    ```
  </TabItem>
  <TabItem label=".NET" icon="seti:c-sharp">
    ```csharp
    using AgentSchema;

    var agent = new AgentDefinition
    {
        Name = "weather-agent",
        Description = "Helps users check the weather",
        Model = "gpt-4o",
        Instructions = "You help users check the weather.",
        Tools = new Dictionary<string, Tool>
        {
            ["get_weather"] = new FunctionTool
            {
                Name = "get_weather",
                Description = "Get current weather for a location",
                Parameters = new Dictionary<string, Property>
                {
                    ["location"] = new Property
                    {
                        Kind = "string",
                        Description = "City name",
                        Required = true,
                    },
                },
            },
        },
    };
    ```
  </TabItem>
  <TabItem label="Go" icon="seti:go">
    ```go
    package main

    import "github.com/microsoft/agentschema-go/agentschema"

    func strPtr(s string) *string { return &s }
    func boolPtr(b bool) *bool { return &b }

    func main() {
        agent := agentschema.PromptAgent{
            Kind:         "prompt",
            Name:         "weather-agent",
            Description:  strPtr("Helps users check the weather"),
            Model:        agentschema.Model{Name: "gpt-4o"},
            Instructions: strPtr("You help users check the weather."),
            Tools: []agentschema.Tool{
                agentschema.FunctionTool{
                    Kind:        "function",
                    Name:        "get_weather",
                    Description: strPtr("Get current weather for a location"),
                    Parameters: map[string]agentschema.Property{
                        "location": {
                            Kind:        "string",
                            Description: strPtr("City name"),
                            Required:    boolPtr(true),
                        },
                    },
                },
            },
        }
    }
    ```
  </TabItem>
  <TabItem label="Rust" icon="seti:rust">
    ```rust
    use agentschema::{AgentDefinition, FunctionTool, Property};
    use std::collections::HashMap;

    fn main() -> Result<(), Box<dyn std::error::Error>> {
        let mut parameters = HashMap::new();
        parameters.insert(
            "location".to_string(),
            Property {
                kind: "string".to_string(),
                description: Some("City name".to_string()),
                required: Some(true),
                ..Default::default()
            },
        );

        let agent = AgentDefinition {
            name: "weather-agent".to_string(),
            description: Some("Helps users check the weather".to_string()),
            model: "gpt-4o".to_string(),
            instructions: Some("You help users check the weather.".to_string()),
            tools: Some(vec![
                FunctionTool {
                    kind: "function".to_string(),
                    name: "get_weather".to_string(),
                    description: Some("Get current weather for a location".to_string()),
                    parameters: Some(parameters),
                    ..Default::default()
                }
                .into(),
            ]),
            ..Default::default()
        };

        Ok(())
    }
    ```
  </TabItem>
</Tabs>

## Saving Agent Definitions

Export agent definitions to YAML or JSON:

<Tabs syncKey="language">
  <TabItem label="Python" icon="seti:python">
    ```python
    # Convert to YAML string
    yaml_str = agent.to_yaml()

    # Convert to JSON string
    json_str = agent.to_json(indent=2)

    # Save to files
    agent.to_yaml_file("output.yaml")
    agent.to_json_file("output.json")

    # Convert to dictionary
    data = agent.save()
    ```
  </TabItem>
  <TabItem label="TypeScript" icon="seti:typescript">
    ```typescript
    import { writeFileSync } from 'fs';

    // Convert to YAML string
    const yamlStr = agent.toYaml();

    // Convert to JSON string
    const jsonStr = agent.toJson();

    // Save to files
    writeFileSync('output.yaml', agent.toYaml());
    writeFileSync('output.json', agent.toJson());

    // Convert to object
    const data = agent.save();
    ```
  </TabItem>
  <TabItem label=".NET" icon="seti:c-sharp">
    ```csharp
    // Convert to YAML string
    var yamlStr = agent.ToYaml();

    // Convert to JSON string
    var jsonStr = agent.ToJson();

    // Save to files
    File.WriteAllText("output.yaml", agent.ToYaml());
    File.WriteAllText("output.json", agent.ToJson());

    // Convert to dictionary
    var data = agent.Save();
    ```
  </TabItem>
  <TabItem label="Go" icon="seti:go">
    ```go
    import "os"

    // Convert to YAML string
    yamlStr, _ := agent.ToYAML()

    // Convert to JSON string
    jsonStr, _ := agent.ToJSON()

    // Save to files
    os.WriteFile("output.yaml", []byte(yamlStr), 0644)
    os.WriteFile("output.json", []byte(jsonStr), 0644)

    // Convert to map
    ctx := agentschema.NewSaveContext()
    data := agent.Save(ctx)
    ```
  </TabItem>
  <TabItem label="Rust" icon="seti:rust">
    ```rust
    use agentschema::AgentDefinition;
    use std::fs;

    fn main() -> Result<(), Box<dyn std::error::Error>> {
        // Convert to YAML string
        let yaml_str = agent.to_yaml()?;

        // Convert to JSON string
        let json_str = agent.to_json()?;

        // Save to files
        fs::write("output.yaml", &yaml_str)?;
        fs::write("output.json", &json_str)?;

        Ok(())
    }
    ```
  </TabItem>
</Tabs>

## Context Objects

Customize loading and saving behavior with context objects:

<Tabs syncKey="language">
  <TabItem label="Python" icon="seti:python">
    ```python
    from agentschema import AgentDefinition, LoadContext, SaveContext

    # Custom load processing
    def pre_process(data: dict) -> dict:
        print(f"Loading: {data.get('name')}")
        return data

    load_ctx = LoadContext(pre_process=pre_process)
    agent = AgentDefinition.from_yaml(yaml_content, load_ctx)

    # Custom save formatting
    save_ctx = SaveContext(
        collection_format="object",  # Use object format
        use_shorthand=True,          # Use shorthand notation
    )
    yaml_str = agent.to_yaml(save_ctx)
    ```
  </TabItem>
  <TabItem label="TypeScript" icon="seti:typescript">
    ```typescript
    import { AgentDefinition, LoadContext, SaveContext } from 'agentschema';

    // Custom load processing
    const loadCtx = new LoadContext({
      preProcess: (data) => {
        console.log(`Loading: ${data.name}`);
        return data;
      },
    });
    const agent = AgentDefinition.fromYaml(yamlContent, loadCtx);

    // Custom save formatting
    const saveCtx = new SaveContext({
      collectionFormat: 'object',
      useShorthand: true,
    });
    const yamlStr = agent.toYaml(saveCtx);
    ```
  </TabItem>
  <TabItem label=".NET" icon="seti:c-sharp">
    ```csharp
    using AgentSchema;

    // Custom load processing
    var loadCtx = new LoadContext
    {
        PreProcess = (data) =>
        {
            Console.WriteLine($"Loading: {data["name"]}");
            return data;
        },
    };
    var agent = AgentDefinition.FromYaml(yamlContent, loadCtx);

    // Custom save formatting
    var saveCtx = new SaveContext
    {
        CollectionFormat = CollectionFormat.Object,
        UseShorthand = true,
    };
    var yamlStr = agent.ToYaml(saveCtx);
    ```
  </TabItem>
  <TabItem label="Go" icon="seti:go">
    ```go
    import "github.com/microsoft/agentschema-go/agentschema"

    // Custom load processing
    loadCtx := agentschema.NewLoadContext()
    loadCtx.PreProcess = func(data map[string]interface{}) map[string]interface{} {
        fmt.Printf("Loading: %v\n", data["name"])
        return data
    }

    // Custom save formatting
    saveCtx := agentschema.NewSaveContext()
    saveCtx.CollectionFormat = agentschema.CollectionFormatObject
    saveCtx.UseShorthand = true
    data := agent.Save(saveCtx)
    ```
  </TabItem>
  <TabItem label="Rust" icon="seti:rust">
    ```rust
    use agentschema::{AgentDefinition, LoadContext, SaveContext, CollectionFormat};

    fn main() -> Result<(), Box<dyn std::error::Error>> {
        // Custom load processing
        let ctx = LoadContext::new();
        let agent = AgentDefinition::from_yaml_with_context(yaml_content, &ctx)?;

        // Custom save formatting
        let save_ctx = SaveContext {
            collection_format: CollectionFormat::Object,
            use_shorthand: true,
            ..Default::default()
        };
        let yaml_str = agent.to_yaml_with_context(&save_ctx)?;

        Ok(())
    }
    ```
  </TabItem>
</Tabs>

## Choosing a Runtime

Choose the runtime that matches your development environment:

- **Python** - For data science workflows, AI/ML pipelines, or Python-based backends
- **TypeScript/JavaScript** - For Node.js applications, serverless functions, or web applications
- **C# / .NET** - For enterprise applications, Azure Functions, or .NET-based services
- **Go** - For high-performance services, CLI tools, or cloud-native applications
- **Rust** - For systems programming, WebAssembly, or performance-critical applications

For detailed API documentation, select your language:

<CardGrid>
  <Card title="Python Runtime" icon="seti:python">
    Full API reference with async support and type hints.
    
    [View Details →](python/)
  </Card>
  <Card title="TypeScript Runtime" icon="seti:typescript">
    Full API reference with TypeScript types.
    
    [View Details →](typescript/)
  </Card>
  <Card title="C# Runtime" icon="seti:c-sharp">
    Full API reference with .NET integration.
    
    [View Details →](csharp/)
  </Card>
  <Card title="Go Runtime" icon="seti:go">
    Full API reference with type-safe structs.

    [View Details →](go/)
  </Card>
  <Card title="Rust Runtime" icon="seti:rust">
    Full API reference with serde-based serialization.

    [View Details →](rust/)
  </Card>
</CardGrid>
